---
title: "MLR: interaction terms, transformations, multicollinearity and heteroscedasticity "
author: "Dr. Olanrewaju Michael Akande"
date: "Sept 5, 2019"
output:
  xaringan::moon_reader:
    css: "slides.css"
    logo: img/class_logo.png
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r packages, echo=FALSE, message=FALSE, warning=FALSE}
#library(tidyverse)
#library(magick)
library(knitr)
library(kableExtra)
library(lattice)
#library(dplyr)
```

```{r setup, include=FALSE}
# R options
options(
  htmltools.dir.version = FALSE, # for blogdown
  #show.signif.stars = FALSE,     # for regression output
  warm = 1
  )
# Set dpi and height for images
knitr::opts_chunk$set(fig.height = 2.65,dpi =300,fig.align='center',fig.show='hold',size='footnotesize',small.mar=TRUE) 
# For nonsese...
htmltools::tagList(rmarkdown::html_dependency_font_awesome())
# For magick
dev.off <- function(){
  invisible(grDevices::dev.off())
}

knit_hooks$set(small.mar = function(before, options, envir) {
    if (before) par(mar =  c(4, 4, 1.5, 1.5)) 
})
```


## Outline

- Recap of last lecture

- Special predictors: quadratic terms

- Special predictors: indicator (dummy) variables

- Special predictors: interaction terms

- Transformations

- Multicollinearity

- Heteroscedasticity

- Final notes


---
## Introduction

- In the last class, we covered model assessment and validation. We also talked about the concept of cross validation.

--

- Today, we will talk about modeling and interpreting special predictors in regression models.

--

- Specifically, we will talk about quadratic terms, indicator (dummy) variables and interaction terms. We have already talked about the first two, so we will simply formalize the concepts.

--

- This is lead us to start to talk about model selection.

--

- In the next class, we will start to talk about building, selecting and comparing MLR models. 


---
class: center, middle

# Special predictors



---
## Special predictors: quadratic terms

- From the Harris Trust and Savings Bank example, we have already seen that the relationships between a response variable and some of the predictors can be potentially nonlinear. 

--

- Sometimes our outcome of interest can appear to have quadratic or even higher order polynomial trends with some predictors.

--

- In that particular example, we included squared terms for both age and experience.

--

- Whenever this is the case, we should look to include squared terms or higher order powers for predictors to capture trends.

--

- .block[General practice: include all lower order terms when including higher order ones (even if the lower order terms are not significant). This aids interpretation.
]

--

- As we have seen before, the best way to present result when including quadratic/polynomial trends is to plot the predicted average of $Y$ for different values of $X$.



---
## Special predictors: indicator/dummy variables

- From the Harris Trust and Savings Bank, we have also seen how to include binary variables in a MLR model with the variable `sex`.

--

- In the example, we could actually have used the variable `fsex` (where 1=female and 0=male) instead of `sex` to give us the same exact results.

--

- That means that we also could have made a variable equal to one for all males and zero for all females, instead.

--

- The value of that coefficient would be $767$ instead of $-767$ like we had. All other statistics stay the same (SE, t-stat, p-value). 

--

- That is, using the male predictor would not change the estimates for any other coefficient.

--

- <div class="question">
In that example, is it possible to include both the male and female indicator variables in the same model? Why or why not?
</div>




---
## Special predictors: indicator/dummy variables

- Turns out that we cannot include indicator variables for the two values of the same binary variable when we also include the intercept.

--

- It is not possible to estimate all three of these parameters in the same model uniquely.

--

- .block[Note: there is no need to mean center dummy variables, since they have a natural interpretation at zero.]




---
## Final notes

- 

